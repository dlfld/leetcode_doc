# 快速幂算法

**快速幂**（**Exponentiation by squaring**，平方求幂）是一种简单而有效的小算法，它可以以O(log⁡n)的时间复杂度计算乘方。快速幂不仅本身非常常见，而且后续很多算法也都会用到快速幂。

快速幂是一种二分的思路，用于计算n的k次方(n^k),那么我们对这个问题来看看有几种思路：

方法1:最简单的方法，直接挨个乘`n*n*n......*n`，这样的时间复杂度是O(n),

方法2:我们计算n^(k/2)再计算他们的平方，这样的话就简化了一半的计算量，但这并不是最快的方式。

方法3:`快速幂`计算`n*n`，再将n*n的结果平方变成n^4，这样一直往上涨，直到还差最后一个n或者是满足要求。这样的时间复杂度是O(logn)

因此，我们可以很容易的得到快速幂算法的过程：	

​	
$$
a^n  =
\begin{cases}
a^{n-1}*a, & \text{if n is odd} \\[5ex]
a^{n/2}*a^{n/2}, & \text{if n is even} \\[5ex]
1 ,& \text{if n = 0}
\end{cases}
$$
那么快速幂算法体现在代码上就是：

```go
func qpow(x,n int)int{
    if n == 0{
        return 1
    }
    if n % 2 == 1{
        return qpow(x,n-1) * x
    }else{
        res := qpow(x,n/2)
        return res * res
    }
}
```

在一些题中有取模的需求，因此我们可以在快速幂算法中加上取模计算即可。